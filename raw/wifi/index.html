<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="../icon.svg">
    <link rel="stylesheet" href="styles/style.css">
    <title>Configuração do Smart Fan</title>
    <script type="module" src="scripts/main.js">
    </script>
  </head>
  <body>
    <img type="image/svg+xml" src="../icon.svg" alt="SmartFan Icon">
    <main>
      <h1>
        <a href="../">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#06B67B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </a>
        &nbsp;
        Smart Fan setup
      </h1>
      <p>Selecione a rede Wi-fi</p>
      <div id="networks"></div>
    </main>

    <div id="wifi-modal">
      <form id="wifi-connect" method="POST">
        <h2 id="wifi-modal-name"></h2>
        <input type="hidden" name="ssid" id="wifi-modal-ssid" placeholder="Digite o SSID do Wi-Fi">
        <label id="wifi-modal-password">
          <span>Senha</span>
          <input type="password" name="password" placeholder="Digite a senha do wifi">
        </label>
        <details>
          <summary>Opções avançadas (Opcional)</summary>
          <div id="content">
            <label id="wifi-ip">
              <span>IP</span>
              <input 
                type="text" 
                name="ip" 
                inputmode="decimal" 
                pattern="^(\d{1,3}\.){3}\d{1,3}$" 
                placeholder="Digite um ip personalizado ao conectar"
              >
            </label>
            <label id="wifi-gateway">
              <span>Gateway</span>
              <input 
                type="text" 
                name="gateway" 
                inputmode="decimal" 
                pattern="^(\d{1,3}\.){3}\d{1,3}$" 
                placeholder="Digite o gateway"
              >
            </label>
            <label id="wifi-subnet">
              <span>Subnet (Máscara)</span>
              <input 
                type="text" 
                name="subnet" 
                inputmode="decimal" 
                pattern="^(\d{1,3}\.){3}\d{1,3}$" 
                placeholder="Digite a mascara de rede"
                value="255.255.255.0"
              >
            </label>
          </div>
        </details>
        <p id="wifi-error"></p>
        <div id="wifi-modal-actions">
          <p id="wifi-modal-cancel">Cancelar</p>
          <button type="submit">Conectar</button>
        </div>
      </form>
    </div>
  </body>
</html>
